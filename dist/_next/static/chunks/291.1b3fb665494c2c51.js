(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{7870:function(e,r,t){var n=t(587),o=t(914);e.exports={encode:n,decode:o}},914:function(e,r,t){var n=t(1876).Buffer,o=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),r=4017,t=799,n=3406,o=2276,a=1567,i=3784,s=5793,c=2896;function f(){}function u(e,r){for(var t,n,o=0,a=[],i=16;i>0&&!e[i-1];)i--;a.push({children:[],index:0});var s,c=a[0];for(t=0;t<i;t++){for(n=0;n<e[t];n++){for((c=a.pop()).children[c.index]=r[o];c.index>0;){if(0===a.length)throw new Error("Could not recreate Huffman Table");c=a.pop()}for(c.index++,a.push(c);a.length<=t;)a.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s;o++}t+1<i&&(a.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s)}return a[0].children}function h(r,t,n,o,a,i,s,c,f,u){n.precision,n.samplesPerLine,n.scanLines;var h=n.mcusPerLine,d=n.progressive,l=(n.maxH,n.maxV,t),v=0,p=0;function m(){if(p>0)return p--,v>>p&1;if(255==(v=r[t++])){var e=r[t++];if(e)throw new Error("unexpected marker: "+(v<<8|e).toString(16))}return p=7,v>>>7}function g(e){for(var r,t=e;null!==(r=m());){if("number"===typeof(t=t[r]))return t;if("object"!==typeof t)throw new Error("invalid huffman sequence")}return null}function y(e){for(var r=0;e>0;){var t=m();if(null===t)return;r=r<<1|t,e--}return r}function w(e){var r=y(e);return r>=1<<e-1?r:r+(-1<<e)+1}var b=0;var M,U=0;function k(e,r,t,n,o){var a=t%h,i=(t/h|0)*e.v+n,s=a*e.h+o;void 0===e.blocks[i]&&u.tolerantDecoding||r(e,e.blocks[i][s])}function S(e,r,t){var n=t/e.blocksPerLine|0,o=t%e.blocksPerLine;void 0===e.blocks[n]&&u.tolerantDecoding||r(e,e.blocks[n][o])}var x,A,C,P,O,E,T=o.length;E=d?0===i?0===c?function(e,r){var t=g(e.huffmanTableDC),n=0===t?0:w(t)<<f;r[0]=e.pred+=n}:function(e,r){r[0]|=m()<<f}:0===c?function(r,t){if(b>0)b--;else for(var n=i,o=s;n<=o;){var a=g(r.huffmanTableAC),c=15&a,u=a>>4;if(0!==c)t[e[n+=u]]=w(c)*(1<<f),n++;else{if(u<15){b=y(u)+(1<<u)-1;break}n+=16}}}:function(r,t){for(var n=i,o=s,a=0;n<=o;){var c=e[n],u=t[c]<0?-1:1;switch(U){case 0:var h=g(r.huffmanTableAC),d=15&h;if(a=h>>4,0===d)a<15?(b=y(a)+(1<<a),U=4):(a=16,U=1);else{if(1!==d)throw new Error("invalid ACn encoding");M=w(d),U=a?2:3}continue;case 1:case 2:t[c]?t[c]+=(m()<<f)*u:0===--a&&(U=2==U?3:0);break;case 3:t[c]?t[c]+=(m()<<f)*u:(t[c]=M<<f,U=0);break;case 4:t[c]&&(t[c]+=(m()<<f)*u)}n++}4===U&&0===--b&&(U=0)}:function(r,t){var n=g(r.huffmanTableDC),o=0===n?0:w(n);t[0]=r.pred+=o;for(var a=1;a<64;){var i=g(r.huffmanTableAC),s=15&i,c=i>>4;if(0!==s)t[e[a+=c]]=w(s),a++;else{if(c<15)break;a+=16}}};var D,I,L,j,X=0;for(I=1==T?o[0].blocksPerLine*o[0].blocksPerColumn:h*n.mcusPerColumn,a||(a=I);X<I;){for(A=0;A<T;A++)o[A].pred=0;if(b=0,1==T)for(x=o[0],O=0;O<a;O++)S(x,E,X),X++;else for(O=0;O<a;O++){for(A=0;A<T;A++)for(L=(x=o[A]).h,j=x.v,C=0;C<j;C++)for(P=0;P<L;P++)k(x,E,X,C,P);if(++X===I)break}if(X===I)do{if(255===r[t]&&0!==r[t+1])break;t+=1}while(t<r.length-2);if(p=0,(D=r[t]<<8|r[t+1])<65280)throw new Error("marker was not found");if(!(D>=65488&&D<=65495))break;t+=2}return t-l}function d(e,f){var u,h,d=[],l=f.blocksPerLine,v=f.blocksPerColumn,p=l<<3,g=new Int32Array(64),y=new Uint8Array(64);function w(e,u,h){var d,l,v,p,m,g,y,w,b,M,U=f.quantizationTable,k=h;for(M=0;M<64;M++)k[M]=e[M]*U[M];for(M=0;M<8;++M){var S=8*M;0!=k[1+S]||0!=k[2+S]||0!=k[3+S]||0!=k[4+S]||0!=k[5+S]||0!=k[6+S]||0!=k[7+S]?(d=s*k[0+S]+128>>8,l=s*k[4+S]+128>>8,v=k[2+S],p=k[6+S],m=c*(k[1+S]-k[7+S])+128>>8,w=c*(k[1+S]+k[7+S])+128>>8,g=k[3+S]<<4,y=k[5+S]<<4,b=d-l+1>>1,d=d+l+1>>1,l=b,b=v*i+p*a+128>>8,v=v*a-p*i+128>>8,p=b,b=m-y+1>>1,m=m+y+1>>1,y=b,b=w+g+1>>1,g=w-g+1>>1,w=b,b=d-p+1>>1,d=d+p+1>>1,p=b,b=l-v+1>>1,l=l+v+1>>1,v=b,b=m*o+w*n+2048>>12,m=m*n-w*o+2048>>12,w=b,b=g*t+y*r+2048>>12,g=g*r-y*t+2048>>12,y=b,k[0+S]=d+w,k[7+S]=d-w,k[1+S]=l+y,k[6+S]=l-y,k[2+S]=v+g,k[5+S]=v-g,k[3+S]=p+m,k[4+S]=p-m):(b=s*k[0+S]+512>>10,k[0+S]=b,k[1+S]=b,k[2+S]=b,k[3+S]=b,k[4+S]=b,k[5+S]=b,k[6+S]=b,k[7+S]=b)}for(M=0;M<8;++M){var x=M;0!=k[8+x]||0!=k[16+x]||0!=k[24+x]||0!=k[32+x]||0!=k[40+x]||0!=k[48+x]||0!=k[56+x]?(d=s*k[0+x]+2048>>12,l=s*k[32+x]+2048>>12,v=k[16+x],p=k[48+x],m=c*(k[8+x]-k[56+x])+2048>>12,w=c*(k[8+x]+k[56+x])+2048>>12,g=k[24+x],y=k[40+x],b=d-l+1>>1,d=d+l+1>>1,l=b,b=v*i+p*a+2048>>12,v=v*a-p*i+2048>>12,p=b,b=m-y+1>>1,m=m+y+1>>1,y=b,b=w+g+1>>1,g=w-g+1>>1,w=b,b=d-p+1>>1,d=d+p+1>>1,p=b,b=l-v+1>>1,l=l+v+1>>1,v=b,b=m*o+w*n+2048>>12,m=m*n-w*o+2048>>12,w=b,b=g*t+y*r+2048>>12,g=g*r-y*t+2048>>12,y=b,k[0+x]=d+w,k[56+x]=d-w,k[8+x]=l+y,k[48+x]=l-y,k[16+x]=v+g,k[40+x]=v-g,k[24+x]=p+m,k[32+x]=p-m):(b=s*h[M+0]+8192>>14,k[0+x]=b,k[8+x]=b,k[16+x]=b,k[24+x]=b,k[32+x]=b,k[40+x]=b,k[48+x]=b,k[56+x]=b)}for(M=0;M<64;++M){var A=128+(k[M]+8>>4);u[M]=A<0?0:A>255?255:A}}m(p*v*8);for(var b=0;b<v;b++){var M=b<<3;for(u=0;u<8;u++)d.push(new Uint8Array(p));for(var U=0;U<l;U++){w(f.blocks[b][U],y,g);var k=0,S=U<<3;for(h=0;h<8;h++){var x=d[M+h];for(u=0;u<8;u++)x[S+u]=y[k++]}}}return d}function l(e){return e<0?0:e>255?255:e}f.prototype={load:function(e){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){var e=new Uint8Array(r.response||r.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),r.send(null)},parse:function(r){var t=1e3*this.opts.maxResolutionInMP*1e3,n=0;r.length;function o(){var e=r[n]<<8|r[n+1];return n+=2,e}function a(){var e=o(),t=r.subarray(n,n+e-2);return n+=t.length,t}function i(e){var r,t,n=0,o=0;for(t in e.components)e.components.hasOwnProperty(t)&&(n<(r=e.components[t]).h&&(n=r.h),o<r.v&&(o=r.v));var a=Math.ceil(e.samplesPerLine/8/n),i=Math.ceil(e.scanLines/8/o);for(t in e.components)if(e.components.hasOwnProperty(t)){r=e.components[t];var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*r.h/n),c=Math.ceil(Math.ceil(e.scanLines/8)*r.v/o),f=a*r.h,u=i*r.v,h=[];m(256*(u*f));for(var d=0;d<u;d++){for(var l=[],v=0;v<f;v++)l.push(new Int32Array(64));h.push(l)}r.blocksPerLine=s,r.blocksPerColumn=c,r.blocks=h}e.maxH=n,e.maxV=o,e.mcusPerLine=a,e.mcusPerColumn=i}var s,c,f=null,l=null,v=[],p=[],g=[],y=[],w=o(),b=-1;if(this.comments=[],65496!=w)throw new Error("SOI not found");for(w=o();65497!=w;){switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var M=a();if(65534===w){var U=String.fromCharCode.apply(null,M);this.comments.push(U)}65504===w&&74===M[0]&&70===M[1]&&73===M[2]&&70===M[3]&&0===M[4]&&(f={version:{major:M[5],minor:M[6]},densityUnits:M[7],xDensity:M[8]<<8|M[9],yDensity:M[10]<<8|M[11],thumbWidth:M[12],thumbHeight:M[13],thumbData:M.subarray(14,14+3*M[12]*M[13])}),65505===w&&69===M[0]&&120===M[1]&&105===M[2]&&102===M[3]&&0===M[4]&&(this.exifBuffer=M.subarray(5,M.length)),65518===w&&65===M[0]&&100===M[1]&&111===M[2]&&98===M[3]&&101===M[4]&&0===M[5]&&(l={version:M[6],flags0:M[7]<<8|M[8],flags1:M[9]<<8|M[10],transformCode:M[11]});break;case 65499:for(var k=o()+n-2;n<k;){var S=r[n++];m(256);var x=new Int32Array(64);if(S>>4===0)for(N=0;N<64;N++){x[e[N]]=r[n++]}else{if(S>>4!==1)throw new Error("DQT: invalid table spec");for(N=0;N<64;N++){x[e[N]]=o()}}v[15&S]=x}break;case 65472:case 65473:case 65474:o(),(s={}).extended=65473===w,s.progressive=65474===w,s.precision=r[n++],s.scanLines=o(),s.samplesPerLine=o(),s.components={},s.componentsOrder=[];var A=s.scanLines*s.samplesPerLine;if(A>t){var C=Math.ceil((A-t)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${C}MP`)}var P,O=r[n++];for(W=0;W<O;W++){P=r[n];var E=r[n+1]>>4,T=15&r[n+1],D=r[n+2];s.componentsOrder.push(P),s.components[P]={h:E,v:T,quantizationIdx:D},n+=3}i(s),p.push(s);break;case 65476:var I=o();for(W=2;W<I;){var L=r[n++],j=new Uint8Array(16),X=0;for(N=0;N<16;N++,n++)X+=j[N]=r[n];m(16+X);var _=new Uint8Array(X);for(N=0;N<X;N++,n++)_[N]=r[n];W+=17+X,(L>>4===0?y:g)[15&L]=u(j,_)}break;case 65501:o(),c=o();break;case 65500:o(),o();break;case 65498:o();var q=r[n++],B=[];for(W=0;W<q;W++){Q=s.components[r[n++]];var H=r[n++];Q.huffmanTableDC=y[H>>4],Q.huffmanTableAC=g[15&H],B.push(Q)}var R=r[n++],z=r[n++],G=r[n++],Y=h(r,n,s,B,c,R,z,G>>4,15&G,this.opts);n+=Y;break;case 65535:255!==r[n]&&n--;break;default:if(255==r[n-3]&&r[n-2]>=192&&r[n-2]<=254){n-=3;break}if(224===w||225==w){if(-1!==b)throw new Error(`first unknown JPEG marker at offset ${b.toString(16)}, second unknown JPEG marker ${w.toString(16)} at offset ${(n-1).toString(16)}`);b=n-1;const e=o();if(255===r[n+e-2]){n+=e-2;break}}throw new Error("unknown JPEG marker "+w.toString(16))}w=o()}if(1!=p.length)throw new Error("only single frame JPEGs supported");for(var W=0;W<p.length;W++){var J=p[W].components;for(var N in J)J[N].quantizationTable=v[J[N].quantizationIdx],delete J[N].quantizationIdx}this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=f,this.adobe=l,this.components=[];for(W=0;W<s.componentsOrder.length;W++){var Q=s.components[s.componentsOrder[W]];this.components.push({lines:d(0,Q),scaleX:Q.h/s.maxH,scaleY:Q.v/s.maxV})}},getData:function(e,r){var t,n,o,a,i,s,c,f,u,h,d,v,p,g,y,w,b,M,U,k,S,x=this.width/e,A=this.height/r,C=0,P=e*r*this.components.length;m(P);var O=new Uint8Array(P);switch(this.components.length){case 1:for(t=this.components[0],h=0;h<r;h++)for(i=t.lines[0|h*t.scaleY*A],u=0;u<e;u++)d=i[0|u*t.scaleX*x],O[C++]=d;break;case 2:for(t=this.components[0],n=this.components[1],h=0;h<r;h++)for(i=t.lines[0|h*t.scaleY*A],s=n.lines[0|h*n.scaleY*A],u=0;u<e;u++)d=i[0|u*t.scaleX*x],O[C++]=d,d=s[0|u*n.scaleX*x],O[C++]=d;break;case 3:for(S=!0,this.adobe&&this.adobe.transformCode?S=!0:"undefined"!==typeof this.opts.colorTransform&&(S=!!this.opts.colorTransform),t=this.components[0],n=this.components[1],o=this.components[2],h=0;h<r;h++)for(i=t.lines[0|h*t.scaleY*A],s=n.lines[0|h*n.scaleY*A],c=o.lines[0|h*o.scaleY*A],u=0;u<e;u++)S?(d=i[0|u*t.scaleX*x],v=s[0|u*n.scaleX*x],M=l(d+1.402*((p=c[0|u*o.scaleX*x])-128)),U=l(d-.3441363*(v-128)-.71413636*(p-128)),k=l(d+1.772*(v-128))):(M=i[0|u*t.scaleX*x],U=s[0|u*n.scaleX*x],k=c[0|u*o.scaleX*x]),O[C++]=M,O[C++]=U,O[C++]=k;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(S=!1,this.adobe&&this.adobe.transformCode?S=!0:"undefined"!==typeof this.opts.colorTransform&&(S=!!this.opts.colorTransform),t=this.components[0],n=this.components[1],o=this.components[2],a=this.components[3],h=0;h<r;h++)for(i=t.lines[0|h*t.scaleY*A],s=n.lines[0|h*n.scaleY*A],c=o.lines[0|h*o.scaleY*A],f=a.lines[0|h*a.scaleY*A],u=0;u<e;u++)S?(d=i[0|u*t.scaleX*x],v=s[0|u*n.scaleX*x],p=c[0|u*o.scaleX*x],g=f[0|u*a.scaleX*x],y=255-l(d+1.402*(p-128)),w=255-l(d-.3441363*(v-128)-.71413636*(p-128)),b=255-l(d+1.772*(v-128))):(y=i[0|u*t.scaleX*x],w=s[0|u*n.scaleX*x],b=c[0|u*o.scaleX*x],g=f[0|u*a.scaleX*x]),O[C++]=255-y,O[C++]=255-w,O[C++]=255-b,O[C++]=255-g;break;default:throw new Error("Unsupported color mode")}return O},copyToImageData:function(e,r){var t,n,o,a,i,s,c,f,u,h=e.width,d=e.height,v=e.data,p=this.getData(h,d),m=0,g=0;switch(this.components.length){case 1:for(n=0;n<d;n++)for(t=0;t<h;t++)o=p[m++],v[g++]=o,v[g++]=o,v[g++]=o,r&&(v[g++]=255);break;case 3:for(n=0;n<d;n++)for(t=0;t<h;t++)c=p[m++],f=p[m++],u=p[m++],v[g++]=c,v[g++]=f,v[g++]=u,r&&(v[g++]=255);break;case 4:for(n=0;n<d;n++)for(t=0;t<h;t++)i=p[m++],s=p[m++],o=p[m++],c=255-l(i*(1-(a=p[m++])/255)+a),f=255-l(s*(1-a/255)+a),u=255-l(o*(1-a/255)+a),v[g++]=c,v[g++]=f,v[g++]=u,r&&(v[g++]=255);break;default:throw new Error("Unsupported color mode")}}};var v=0,p=0;function m(e=0){var r=v+e;if(r>p){var t=Math.ceil((r-p)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${t}MB`)}v=r}return f.resetMaxMemoryUsage=function(e){v=0,p=e},f.getBytesAllocated=function(){return v},f.requestMemoryAllocation=m,f}();e.exports=function(e,r={}){var t={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...r},a=new Uint8Array(e),i=new o;i.opts=t,o.resetMaxMemoryUsage(1024*t.maxMemoryUsageInMB*1024),i.parse(a);var s=t.formatAsRGBA?4:3,c=i.width*i.height*s;try{o.requestMemoryAllocation(c);var f={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:t.useTArray?new Uint8Array(c):n.alloc(c)};i.comments.length>0&&(f.comments=i.comments)}catch(u){throw u instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+c):u}return i.copyToImageData(f,t.formatAsRGBA),f}},587:function(e,r,t){var n=t(1876).Buffer;function o(e){Math.round;var r,t,o,a,i,s=Math.floor,c=new Array(64),f=new Array(64),u=new Array(64),h=new Array(64),d=new Array(65535),l=new Array(65535),v=new Array(64),p=new Array(64),m=[],g=0,y=7,w=new Array(64),b=new Array(64),M=new Array(64),U=new Array(256),k=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(e,r){for(var t=0,n=0,o=new Array,a=1;a<=16;a++){for(var i=1;i<=e[a];i++)o[r[n]]=[],o[r[n]][0]=t,o[r[n]][1]=a,n++,t++;t*=2}return o}function L(e){for(var r=e[0],t=e[1]-1;t>=0;)r&1<<t&&(g|=1<<y),t--,--y<0&&(255==g?(j(255),j(0)):j(g),y=7,g=0)}function j(e){m.push(e)}function X(e){j(e>>8&255),j(255&e)}function _(e,r,t,n,o){for(var a,i=o[0],s=o[240],c=function(e,r){var t,n,o,a,i,s,c,f,u,h,d=0;for(u=0;u<8;++u){t=e[d],n=e[d+1],o=e[d+2],a=e[d+3],i=e[d+4],s=e[d+5],c=e[d+6];var l=t+(f=e[d+7]),p=t-f,m=n+c,g=n-c,y=o+s,w=o-s,b=a+i,M=a-i,U=l+b,k=l-b,S=m+y,x=m-y;e[d]=U+S,e[d+4]=U-S;var A=.707106781*(x+k);e[d+2]=k+A,e[d+6]=k-A;var C=.382683433*((U=M+w)-(x=g+p)),P=.5411961*U+C,O=1.306562965*x+C,E=.707106781*(S=w+g),T=p+E,D=p-E;e[d+5]=D+P,e[d+3]=D-P,e[d+1]=T+O,e[d+7]=T-O,d+=8}for(d=0,u=0;u<8;++u){t=e[d],n=e[d+8],o=e[d+16],a=e[d+24],i=e[d+32],s=e[d+40],c=e[d+48];var I=t+(f=e[d+56]),L=t-f,j=n+c,X=n-c,_=o+s,q=o-s,B=a+i,H=a-i,R=I+B,z=I-B,G=j+_,Y=j-_;e[d]=R+G,e[d+32]=R-G;var W=.707106781*(Y+z);e[d+16]=z+W,e[d+48]=z-W;var J=.382683433*((R=H+q)-(Y=X+L)),N=.5411961*R+J,Q=1.306562965*Y+J,V=.707106781*(G=q+X),$=L+V,F=L-V;e[d+40]=F+N,e[d+24]=F-N,e[d+8]=$+Q,e[d+56]=$-Q,d++}for(u=0;u<64;++u)h=e[u]*r[u],v[u]=h>0?h+.5|0:h-.5|0;return v}(e,r),f=0;f<64;++f)p[S[f]]=c[f];var u=p[0]-t;t=p[0],0==u?L(n[0]):(L(n[l[a=32767+u]]),L(d[a]));for(var h=63;h>0&&0==p[h];h--);if(0==h)return L(i),t;for(var m,g=1;g<=h;){for(var y=g;0==p[g]&&g<=h;++g);var w=g-y;if(w>=16){m=w>>4;for(var b=1;b<=m;++b)L(s);w&=15}a=32767+p[g],L(o[(w<<4)+l[a]]),L(d[a]),g++}return 63!=h&&L(i),t}function q(e){if(e<=0&&(e=1),e>100&&(e=100),i!=e){(function(e){for(var r=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],t=0;t<64;t++){var n=s((r[t]*e+50)/100);n<1?n=1:n>255&&(n=255),c[S[t]]=n}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var i=s((o[a]*e+50)/100);i<1?i=1:i>255&&(i=255),f[S[a]]=i}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,v=0;v<8;v++)for(var p=0;p<8;p++)u[l]=1/(c[S[l]]*d[v]*d[p]*8),h[l]=1/(f[S[l]]*d[v]*d[p]*8),l++})(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e}}this.encode=function(e,i){(new Date).getTime();i&&q(i),m=new Array,g=0,y=7,X(65496),X(65504),X(16),j(74),j(70),j(73),j(70),j(0),j(1),j(1),j(0),X(1),X(1),j(0),j(0),function(e){if(e){X(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?X(e.length+2):(X(e.length+5+2),j(69),j(120),j(105),j(102),j(0));for(var r=0;r<e.length;r++)j(e[r])}}(e.exifBuffer),function(){X(65499),X(132),j(0);for(var e=0;e<64;e++)j(c[e]);j(1);for(var r=0;r<64;r++)j(f[r])}(),function(e,r){X(65472),X(17),j(8),X(r),X(e),j(3),j(1),j(17),j(0),j(2),j(17),j(1),j(3),j(17),j(1)}(e.width,e.height),function(){X(65476),X(418),j(0);for(var e=0;e<16;e++)j(x[e+1]);for(var r=0;r<=11;r++)j(A[r]);j(16);for(var t=0;t<16;t++)j(C[t+1]);for(var n=0;n<=161;n++)j(P[n]);j(1);for(var o=0;o<16;o++)j(O[o+1]);for(var a=0;a<=11;a++)j(E[a]);j(17);for(var i=0;i<16;i++)j(T[i+1]);for(var s=0;s<=161;s++)j(D[s])}(),X(65498),X(12),j(3),j(1),j(0),j(2),j(17),j(3),j(17),j(0),j(63),j(0);var s=0,d=0,l=0;g=0,y=7,this.encode.displayName="_encode_";for(var v,p,U,S,I,B,H,R,z,G=e.data,Y=e.width,W=e.height,J=4*Y,N=0;N<W;){for(v=0;v<J;){for(B=I=J*N+v,H=-1,R=0,z=0;z<64;z++)B=I+(R=z>>3)*J+(H=4*(7&z)),N+R>=W&&(B-=J*(N+1+R-W)),v+H>=J&&(B-=v+H-J+4),p=G[B++],U=G[B++],S=G[B++],w[z]=(k[p]+k[U+256>>0]+k[S+512>>0]>>16)-128,b[z]=(k[p+768>>0]+k[U+1024>>0]+k[S+1280>>0]>>16)-128,M[z]=(k[p+1280>>0]+k[U+1536>>0]+k[S+1792>>0]>>16)-128;s=_(w,u,s,r,o),d=_(b,h,d,t,a),l=_(M,h,l,t,a),v+=32}N+=8}if(y>=0){var Q=[];Q[1]=y+1,Q[0]=(1<<y+1)-1,L(Q)}return X(65497),n.from(m)},function(){(new Date).getTime();e||(e=50),function(){for(var e=String.fromCharCode,r=0;r<256;r++)U[r]=e(r)}(),r=I(x,A),t=I(O,E),o=I(C,P),a=I(T,D),function(){for(var e=1,r=2,t=1;t<=15;t++){for(var n=e;n<r;n++)l[32767+n]=t,d[32767+n]=[],d[32767+n][1]=t,d[32767+n][0]=n;for(var o=-(r-1);o<=-e;o++)l[32767+o]=t,d[32767+o]=[],d[32767+o][1]=t,d[32767+o][0]=r-1+o;e<<=1,r<<=1}}(),function(){for(var e=0;e<256;e++)k[e]=19595*e,k[e+256>>0]=38470*e,k[e+512>>0]=7471*e+32768,k[e+768>>0]=-11059*e,k[e+1024>>0]=-21709*e,k[e+1280>>0]=32768*e+8421375,k[e+1536>>0]=-27439*e,k[e+1792>>0]=-5329*e}(),q(e),(new Date).getTime()}()}e.exports=function(e,r){"undefined"===typeof r&&(r=50);return{data:new o(r).encode(e,r),width:e.width,height:e.height}}},4970:function(e,r,t){var n;n=function(e){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,r,t){"use strict";t.r(r);var n=t("react"),o=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])},e(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),a=function(){return a=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},a.apply(this,arguments)},i=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]])}return t};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var r=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return r?new Promise((function(t,n){r.call(navigator,e,t,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(e){function r(r){var t=e.call(this,r)||this;return t.canvas=null,t.ctx=null,t.requestUserMediaId=0,t.unmounted=!1,t.state={hasUserMedia:!1},t}return o(r,e),r.prototype.componentDidMount=function(){var e=this.state,r=this.props;s()?e.hasUserMedia||this.requestUserMedia():r.onUserMediaError("getUserMedia not supported")},r.prototype.componentDidUpdate=function(e){var r=this.props;if(s()){var t=JSON.stringify(e.audioConstraints)!==JSON.stringify(r.audioConstraints),n=JSON.stringify(e.videoConstraints)!==JSON.stringify(r.videoConstraints),o=e.minScreenshotWidth!==r.minScreenshotWidth,a=e.minScreenshotHeight!==r.minScreenshotHeight;(n||o||a)&&(this.canvas=null,this.ctx=null),(t||n)&&(this.stopAndCleanup(),this.requestUserMedia())}else r.onUserMediaError("getUserMedia not supported")},r.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},r.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(r){e.removeTrack(r),r.stop()})),e.getAudioTracks().map((function(r){e.removeTrack(r),r.stop()}))):e.stop())},r.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(r.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},r.prototype.getScreenshot=function(e){var r=this.state,t=this.props;if(!r.hasUserMedia)return null;var n=this.getCanvas(e);return n&&n.toDataURL(t.screenshotFormat,t.screenshotQuality)},r.prototype.getCanvas=function(e){var r=this.state,t=this.props;if(!this.video)return null;if(!r.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var n=this.video.videoWidth,o=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=n/o;o=(n=t.minScreenshotWidth||this.video.clientWidth)/a,t.minScreenshotHeight&&o<t.minScreenshotHeight&&(n=(o=t.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||n,this.canvas.height=(null===e||void 0===e?void 0:e.height)||o,this.ctx=this.canvas.getContext("2d")}var i=this.ctx,s=this.canvas;return i&&s&&(t.mirrored&&(i.translate(s.width,0),i.scale(-1,1)),i.imageSmoothingEnabled=t.imageSmoothing,i.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),t.mirrored&&(i.scale(-1,1),i.translate(-s.width,0))),s},r.prototype.requestUserMedia=function(){var e=this,t=this.props,n=function(n,o){var a={video:"undefined"===typeof o||o};t.audio&&(a.audio="undefined"===typeof n||n),e.requestUserMediaId++;var i=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then((function(t){e.unmounted||i!==e.requestUserMediaId?r.stopMediaStream(t):e.handleUserMedia(null,t)})).catch((function(r){e.handleUserMedia(r)}))};if("mediaDevices"in navigator)n(t.audioConstraints,t.videoConstraints);else{var o=function(e){return{optional:[{sourceId:e}]}},a=function(e){var r=e.deviceId;return"string"===typeof r?r:Array.isArray(r)&&r.length>0?r[0]:"object"===typeof r&&r.ideal?r.ideal:null};MediaStreamTrack.getSources((function(e){var r=null,i=null;e.forEach((function(e){"audio"===e.kind?r=e.id:"video"===e.kind&&(i=e.id)}));var s=a(t.audioConstraints);s&&(r=s);var c=a(t.videoConstraints);c&&(i=c),n(o(r),o(i))}))}},r.prototype.handleUserMedia=function(e,r){var t=this.props;if(e||!r)return this.setState({hasUserMedia:!1}),void t.onUserMediaError(e);this.stream=r;try{this.video&&(this.video.srcObject=r),this.setState({hasUserMedia:!0})}catch(n){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(r)})}t.onUserMedia(r)},r.prototype.render=function(){var e=this,r=this.state,t=this.props,o=t.audio,s=(t.forceScreenshotSourceSize,t.onUserMedia,t.onUserMediaError,t.screenshotFormat,t.screenshotQuality,t.minScreenshotWidth,t.minScreenshotHeight,t.audioConstraints,t.videoConstraints,t.imageSmoothing,t.mirrored),c=t.style,f=void 0===c?{}:c,u=i(t,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),h=s?a(a({},f),{transform:(f.transform||"")+" scaleX(-1)"}):f;return n.createElement("video",a({autoPlay:!0,src:r.src,muted:!o,playsInline:!0,ref:function(r){e.video=r},style:h},u))},r.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},r}(n.Component);r.default=c},react:function(r,t){r.exports=e}}).default},e.exports=n(t(7294))}}]);
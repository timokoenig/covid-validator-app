(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{3210:function(e,n,t){"use strict";var o=t(9008),i=(t(7294),t(4374)),r=t(5893);n.Z=function(e){var n=(0,i.$)("common").t;return(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:"CovidValidator"}),(0,r.jsx)("meta",{name:"description",content:n("meta.description")}),!1===e.allowIndex&&(0,r.jsx)("meta",{name:"robots",content:"noindex"}),(0,r.jsx)("meta",{name:"theme-color",content:"#ffffff"}),(0,r.jsx)("meta",{property:"og:title",content:"covidvalidator.app"}),(0,r.jsx)("meta",{property:"og:url",content:"https://covidvalidator.app"}),(0,r.jsx)("meta",{property:"og:image",content:"https://covidvalidator.app/icon-192x192.png"}),(0,r.jsx)("meta",{property:"og:description",content:n("meta.description")}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"})]})}},6737:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return We}});var o=t(7812),i=t(9499),r=t(3238),l=t(8527),s=t(7294),a=t(4374),c=t(5934),d=t(9876),u=t(949),x=t(5193),h=t(3730),f=t(5893),j=function(e){var n=(0,a.$)("common").t,t=h.f.use();return(0,f.jsxs)(l.xu,{bg:(0,u.ff)("gray.200","gray.700"),px:"10",py:"5",minWidth:"350",display:"flex",flexDirection:"column",overflow:"scroll",children:[(0,f.jsxs)(l.M5,{flexDirection:"column",mb:"5",children:[(0,f.jsx)(l.X6,{as:"h1",size:"lg",flex:"1",children:(0,f.jsx)(l.rU,{href:"/",_hover:{textDecoration:"none"},children:"CovidValidator"})}),(0,f.jsxs)(l.xv,{fontSize:"xl",children:[n("builder")," ",(0,f.jsx)(l.xv,{as:"span",display:"inline",fontSize:"sm",fontWeight:"bold",color:"red",children:"BETA"})]})]}),(0,f.jsx)(l.MI,{mb:"5",display:"flex",spacing:"5",children:(0,f.jsx)(x.zx,{flex:"1",onClick:e.onCreate,colorScheme:"blue",children:n("new")})}),(0,f.jsx)(l.aV,{children:t.customRules.map((function(n){var t;return(0,f.jsx)(l.HC,{display:"flex",children:(0,f.jsxs)(x.zx,{variant:n.id===(null===(t=e.customRule)||void 0===t?void 0:t.id)?"solid":"ghost",flex:"1",justifyContent:"left",onClick:function(){return e.onChange(n)},children:[n.name,(0,f.jsx)(l.LZ,{}),(0,f.jsx)(d.XC,{width:"5",height:"5"})]})},n.id)}))}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)("hr",{}),(0,f.jsxs)(l.M5,{flexDirection:"column",mt:"5",children:[(0,f.jsxs)(l.xu,{children:[(0,f.jsx)(l.rU,{href:"https://github.com/timokoenig/covid-validator",target:"_blank",px:"2",display:"inline-block",children:n("github")}),"|",(0,f.jsx)(l.rU,{href:"https://ko-fi.com/timokoenig",target:"_blank",px:"2",display:"inline-block",children:n("sponsor")})]}),(0,f.jsxs)(l.xu,{children:[(0,f.jsx)(l.rU,{href:"/privacy",px:"2",display:"inline-block",children:n("privacy")}),"|",(0,f.jsx)(l.rU,{href:"/imprint",px:"2",display:"inline-block",children:n("imprint")})]})]})]})},p=t(7375),m=t(4612),C=t(1245),g=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.u_,{isOpen:e.isOpen,onClose:function(){return e.onClose(!1)},size:"lg",scrollBehavior:"inside",children:[(0,f.jsx)(C.ZA,{}),(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:e.title}),(0,f.jsx)(C.fe,{children:"string"===typeof e.message?(0,f.jsx)(l.xv,{children:e.message}):e.message}),(0,f.jsxs)(C.mz,{children:[(0,f.jsx)(x.zx,{variant:"ghost",mr:3,onClick:function(){return e.onClose(!1)},children:n("no")}),(0,f.jsx)(x.zx,{colorScheme:"red",mr:3,onClick:function(){return e.onClose(!0)},children:n("yes")})]})]})]})},v=t(5980),b=function(e){var n=(0,a.$)("common").t,t=function(){return e.customRule&&!e.certificateRule?JSON.stringify((0,v.dM)(e.customRule),null,2):e.certificateRule?JSON.stringify((0,v.k9)(e.certificateRule,null!==(n=null===(t=e.customRule)||void 0===t?void 0:t.immunizationRules)&&void 0!==n?n:[]),null,2):null;var n,t}();return(0,f.jsxs)(C.u_,{isOpen:e.isOpen,onClose:e.onClose,size:"lg",scrollBehavior:"inside",children:[(0,f.jsx)(C.ZA,{}),(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("export")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:t?(0,f.jsx)("pre",{children:t}):(0,f.jsx)(l.xv,{children:n("export.none")})}),(0,f.jsx)(C.mz,{})]})]})},y=function(e){return(0,f.jsx)(l.HC,{display:"flex",children:(0,f.jsxs)(x.zx,{variant:"ghost",flex:"1",py:"7",onClick:e.onClick,children:[(0,f.jsxs)(l.xu,{textAlign:"left",children:[(0,f.jsx)(l.xv,{fontWeight:"semibold",children:e.title}),e.subtitle&&(0,f.jsx)(l.xv,{fontWeight:"normal",children:e.subtitle})]}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)(d.XC,{width:"5",height:"5"})]})})},k=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.u_,{isOpen:e.isOpen,onClose:e.onClose,size:"lg",scrollBehavior:"inside",children:[(0,f.jsx)(C.ZA,{}),(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.modal.language")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsx)(l.aV,{children:[{lang:"de",desc:"German"}].map((function(n){return(0,f.jsx)(y,{title:n.desc,onClick:function(){return e.onClick(n.lang)}},n.lang)}))})}),(0,f.jsx)(C.mz,{})]})]})},O=t(1589),z=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.and")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{}),(0,f.jsxs)(C.mz,{children:[(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{})]})]})},R=t(9115),w=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.certificatetype")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsx)(l.aV,{children:R.vk.map((function(n){return(0,f.jsx)(y,{title:n,onClick:function(){return e.onClick(n)}},n)}))})}),(0,f.jsxs)(C.mz,{children:[e.editMode&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{})]})]})},S=t(1391),D=function(e){var n=(0,a.$)("common").t,t=(0,s.useState)(e.data?e.data.operator:R.eY),o=t[0],i=t[1];return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.compare")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsxs)(S.Ph,{value:o,onChange:function(e){return i(e.target.value)},children:[(0,f.jsx)("option",{value:R.eY,children:R.eY}),(0,f.jsx)("option",{value:R.fA,children:R.fA}),(0,f.jsx)("option",{value:R.ay,children:R.ay})]})}),(0,f.jsxs)(C.mz,{children:[e.data&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)(x.zx,{onClick:function(){e.onClick(o),e.onClose()},children:n("done")})]})]})},E=function(e){var n=(0,a.$)("common").t,t=(0,s.useState)(e.data?e.data.operator:R.H5),o=t[0],i=t[1];return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.comparedate")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsxs)(S.Ph,{value:o,onChange:function(e){return i(e.target.value)},children:[(0,f.jsx)("option",{value:R.H5,children:R.H5}),(0,f.jsx)("option",{value:R.Ri,children:R.Ri})]})}),(0,f.jsxs)(C.mz,{children:[e.data&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)(x.zx,{onClick:function(){e.onClick(o),e.onClose()},children:n("done")})]})]})},B=function(e){var n=(0,a.$)("common").t,t=(0,s.useState)(e.data?e.data.values:[""]),i=t[0],r=t[1];return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.comparein")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsxs)(C.fe,{children:[i.map((function(e,n){return(0,f.jsxs)(l.xu,{display:"flex",flexDirection:"row",mb:"2",children:[(0,f.jsx)(m.II,{value:e,onChange:function(e){var t=(0,o.Z)(i);t[n]=e.target.value,r(t)},mr:"2"}),(0,f.jsx)(x.zx,{colorScheme:"red",onClick:function(){var e=(0,o.Z)(i);e.splice(n,1),r(e)},children:(0,f.jsx)(d.pJ,{width:"5",height:"5"})})]},n)})),(0,f.jsx)(x.zx,{isFullWidth:!0,onClick:function(){i.length>0&&""===i[i.length-1]||r([].concat((0,o.Z)(i),[""]))},children:n("builder.additem")})]}),(0,f.jsxs)(C.mz,{children:[e.data&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)(x.zx,{onClick:function(){e.onClick(i.filter((function(e){return""!==e}))),e.onClose()},children:n("done")})]})]})},F=function(e){var n=(0,a.$)("common").t,t=(0,s.useState)(e.data?e.data.value.value:""),o=t[0],i=t[1],r=(0,s.useState)(e.data?e.data.number.toString():"0"),c=r[0],d=r[1],u=(0,s.useState)(e.data?e.data.duration:R.Xi),h=u[0],j=u[1];return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.date")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsxs)(C.fe,{children:[(0,f.jsx)(m.II,{value:o,placeholder:"value",onChange:function(e){return i(e.target.value)}}),"+",(0,f.jsx)(m.II,{value:c,onChange:function(e){return d(e.target.value)}}),(0,f.jsxs)(S.Ph,{value:h,onChange:function(e){return j(e.target.value)},children:[(0,f.jsx)("option",{value:R.Xi,children:R.Xi}),(0,f.jsx)("option",{value:R.U7,children:R.U7})]})]}),(0,f.jsxs)(C.mz,{children:[e.data&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)(x.zx,{onClick:function(){e.onClick(o,parseInt(c,10),h),e.onClose()},children:n("done")})]})]})},P=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.if")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{}),(0,f.jsxs)(C.mz,{children:[(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{})]})]})},U=t(8133),Z=JSON.parse('[{"id":"EU/1/20/1528","name":"BioNTech"},{"id":"EU/1/20/1507","name":"Moderna"},{"id":"EU/1/21/1529","name":"AstraZeneca"},{"id":"EU/1/21/1618","name":"Novavax"},{"id":"EU/1/20/1525","name":"Johnson&Johnson"}]'),I=function(e){var n=(0,a.$)("common").t,t=(0,s.useState)(""),i=t[0],r=t[1],c=(0,s.useState)([]),d=c[0],u=c[1];return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.immunizationstatus")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:""===i?(0,f.jsx)(l.aV,{children:R.Fy.map((function(e){return(0,f.jsx)(y,{title:n(e),onClick:function(){return r(e)}},e)}))}):(0,f.jsx)(l.aV,{children:Z.map((function(e){return(0,f.jsx)(l.HC,{display:"flex",children:(0,f.jsx)(x.zx,{isFullWidth:!0,h:"auto",position:"relative",overflowWrap:"anywhere",whiteSpace:"normal",variant:"ghost",justifyContent:"left",p:"0",children:(0,f.jsx)(U.XZ,{isChecked:d.includes(e.id),w:"100%",h:"100%",p:"4",wordBreak:"break-all",onChange:function(n){return n.target.checked?u([].concat((0,o.Z)(d),[e.id])):u(d.filter((function(n){return n!==e.id})))},children:e.name})})},e.id)}))})}),(0,f.jsxs)(C.mz,{children:[e.editMode&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{}),""!==i&&(0,f.jsx)(x.zx,{onClick:function(){return e.onClick(i,d)},children:n("done")})]})]})},L="Certificate Type",A="Immunization Status",W="Value",$="Var",T="Date",_="Compare",Y="Compare Date",V="Compare In",q="IF",N="AND",X=[L,A],M=[W,$,T,_,Y,V,q,N],J=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.select.component")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsxs)(C.fe,{children:[(0,f.jsx)(l.X6,{size:"md",children:n("builder.select.custom")}),(0,f.jsx)(l.aV,{mb:"5",children:X.map((function(n){return(0,f.jsx)(y,{title:n,onClick:function(){return e.onClick(n)}},n)}))}),(0,f.jsx)(l.X6,{size:"md",children:n("builder.select.default")}),(0,f.jsx)(l.aV,{children:M.map((function(n){return(0,f.jsx)(y,{title:n,onClick:function(){return e.onClick(n)}},n)}))})]}),(0,f.jsx)(C.mz,{})]})},H=t(6486),K=function(e){var n=(0,a.$)("common").t,t=(0,s.useState)(e.data?e.data.value.toString():""),o=t[0],i=t[1];return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.value")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsx)(m.II,{value:o,onChange:function(e){return i(e.target.value)}})}),(0,f.jsxs)(C.mz,{children:[e.data&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)(x.zx,{onClick:function(){"true"===o.toLowerCase()||"false"===o.toLowerCase()?e.onClick("true"===o.toLowerCase()):(0,H.isNumber)(o)?e.onClick(parseInt(o,10)):e.onClick(o)},children:n("done")})]})]})},G=function(e){var n=(0,a.$)("common").t,t=(0,s.useState)(e.data?e.data.value:""),o=t[0],i=t[1];return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.var")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsx)(m.II,{value:o,onChange:function(e){return i(e.target.value)}})}),(0,f.jsxs)(C.mz,{children:[e.data&&(0,f.jsx)(x.zx,{variant:"ghost",colorScheme:"red",onClick:e.onDelete,children:n("delete")}),(0,f.jsx)(l.LZ,{}),(0,f.jsx)(x.zx,{onClick:function(){e.onClick(o),e.onClose()},children:n("done")})]})]})},Q=function(e){var n=(0,s.useState)(""),t=n[0],o=n[1];(0,s.useEffect)((function(){e.data instanceof O._j?o(L):e.data instanceof O.Ax?o(A):e.data instanceof O.VW?o(W):e.data instanceof O.mB?o($):e.data instanceof O._k?o(T):e.data instanceof O.CJ?o(q):e.data instanceof O.Cm?o(N):e.data instanceof O.Kk?o(_):e.data instanceof O.hW?o(Y):e.data instanceof O.N0?o(V):o("")}),[e.isOpen]);var i=function(){e.onClose()};return(0,f.jsxs)(C.u_,{isOpen:e.isOpen,onClose:i,size:"lg",scrollBehavior:"inside",children:[(0,f.jsx)(C.ZA,{}),""===t&&(0,f.jsx)(J,{onClose:i,onClick:function(n){switch(n){case L:case A:case W:case $:case T:case V:o(n);break;case _:e.onClick(new O.Kk),i();break;case Y:e.onClick(new O.hW),i();break;case q:e.onClick(new O.CJ),i();break;case N:e.onClick(new O.Cm),i()}}}),t===L&&(0,f.jsx)(w,{editMode:void 0!==e.data,onClose:i,onClick:function(n){if(void 0===e.data)return e.onClick(new O._j(n)),void i();var t=e.data;t.type=n,e.onClick(t),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===A&&(0,f.jsx)(I,{editMode:void 0!==e.data,onClose:i,onClick:function(n,t){if(void 0===e.data)return e.onClick(new O.Ax(n,t)),void i();var o=e.data;o.status=n,o.vaccines=t,e.onClick(o),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===W&&(0,f.jsx)(K,{data:e.data,onClose:i,onClick:function(n){e.onClick(new O.VW(n)),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===$&&(0,f.jsx)(G,{data:e.data,onClose:i,onClick:function(n){e.onClick(new O.mB(n)),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===T&&(0,f.jsx)(F,{data:e.data,onClose:i,onClick:function(n,t,o){e.onClick(new O._k(new O.mB(n),t,o)),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===_&&(0,f.jsx)(D,{data:e.data,onClose:i,onClick:function(n){if(void 0===e.data)return e.onClick(new O.Kk(new O.Fj,new O.Fj,n)),void i();var t=e.data;t.operator=n,e.onClick(t),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===Y&&(0,f.jsx)(E,{data:e.data,onClose:i,onClick:function(n){if(void 0===e.data)return e.onClick(new O.hW(new O.Fj,new O.Fj,n)),void i();var t=e.data;t.operator=n,e.onClick(t),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===V&&(0,f.jsx)(B,{data:e.data,onClose:i,onClick:function(n){if(void 0===e.data)return e.onClick(new O.N0(new O.Fj,n)),void i();var t=e.data;t.values=n,e.onClick(t),i()},onDelete:function(){e.onClick(new O.Fj),i()}}),t===q&&(0,f.jsx)(P,{onClose:i,onDelete:function(){e.onClick(new O.Fj),i()}}),t===N&&(0,f.jsx)(z,{onClose:i,onDelete:function(){e.onClick(new O.Fj),i()}})]})},ee=function(e){return(0,f.jsx)(l.xu,{py:"3",pl:"3",display:"block",width:"100%",textAlign:"left",backgroundColor:(0,u.ff)("rgba(237, 242, 247, ".concat(1-.1*e.depth,")"),"rgba(74, 85, 104, ".concat(1-.1*e.depth,")")),borderTopLeftRadius:"10",borderBottomLeftRadius:"10",cursor:"pointer",_hover:{background:(0,u.ff)("gray.300","gray.600")},onClick:function(n){n.stopPropagation(),void 0!==e.onClick&&e.onClick()},style:e.styles,children:e.children})},ne=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.zx,{py:"3",borderStyle:"dashed",borderWidth:"2px",borderColor:"gray.500",backgroundColor:"transparent",borderRadius:"10",isFullWidth:!0,onClick:function(e){e.stopPropagation(),i()},children:n("add").toUpperCase()}),(0,f.jsx)(Q,{isOpen:o,onClose:r,onClick:e.onChange})]})},te=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose,s=(0,u.ff)("gray.200","gray.800");return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(ee,{styles:e.styles,depth:e.depth,onClick:i,children:[(0,f.jsx)(l.xv,{mb:"2",children:(0,f.jsx)(l.xv,{as:"span",fontWeight:"semibold",children:n("builder.and")})}),(0,f.jsxs)(l.gC,{children:[e.data.conditions.map((function(n,t){return(0,f.jsx)(l.xu,{backgroundColor:s,py:"1",pl:"1",borderTopLeftRadius:"10",borderBottomLeftRadius:"10",width:"100%",children:(0,f.jsx)(xe,{data:n,depth:e.depth,onChange:function(n){var o=e.data;n instanceof O.Fj?o.conditions.splice(t,1):o.conditions[t]=n,e.onChange(o)}})},t)})),(0,f.jsx)(ne,{data:new O.Fj,depth:e.depth,onChange:function(n){var t=e.data;t.conditions.push(n),e.onChange(t)}})]})]}),(0,f.jsx)(Q,{data:e.data,isOpen:o,onClose:r,onClick:function(n){return e.onChange(n)}})]})},oe=function(e){var n=(0,p.qY)(),t=n.isOpen,o=n.onOpen,i=n.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(ee,{styles:e.styles,depth:e.depth,onClick:o,children:[(0,f.jsx)(l.X6,{size:"md",mb:"2",children:e.data.type}),(0,f.jsx)(l.Kq,{children:(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),py:"1",pl:"1",borderTopLeftRadius:"10",borderBottomLeftRadius:"10",children:(0,f.jsx)(xe,{data:e.data.conditionTrue,depth:e.depth,onChange:function(n){var t=e.data;t.conditionTrue=n,e.onChange(t)}})})})]}),(0,f.jsx)(Q,{data:e.data,isOpen:t,onClose:i,onClick:function(n){return e.onChange(n)}})]})},ie=function(e){var n=(0,p.qY)(),t=n.isOpen,o=n.onOpen,i=n.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ee,{styles:{padding:0},depth:e.depth,onClick:o,children:(0,f.jsxs)(l.Ug,{children:[(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),borderRadius:"10",borderRight:"3px solid",borderRightColor:(0,u.ff)("gray.200","gray.800"),children:(0,f.jsx)(xe,{data:e.data.variableA,styles:{borderRadius:10,paddingRight:12},depth:e.depth,onChange:function(n){var t=e.data;t.variableA=n,e.onChange(t)}})}),(0,f.jsx)(l.xv,{as:"span",fontWeight:"semibold",px:"10",children:e.data.operator===R.eY?"EQUALS":e.data.operator===R.fA?"GREATER":e.data.operator===R.ay?"GREATER EQUALS":""}),(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),borderRadius:"10",flex:"1",borderLeft:"3px solid",borderLeftColor:(0,u.ff)("gray.200","gray.800"),children:(0,f.jsx)(xe,{data:e.data.variableB,styles:{padding:"12"},depth:e.depth,onChange:function(n){var t=e.data;t.variableB=n,e.onChange(t)}})})]})}),(0,f.jsx)(Q,{data:e.data,isOpen:t,onClose:i,onClick:function(n){return e.onChange(n)}})]})},re=function(e){var n=(0,p.qY)(),t=n.isOpen,o=n.onOpen,i=n.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ee,{styles:{padding:0},depth:e.depth,onClick:o,children:(0,f.jsxs)(l.Ug,{children:[(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),borderRadius:"10",borderRight:"3px solid",borderRightColor:(0,u.ff)("gray.200","gray.800"),children:(0,f.jsx)(xe,{data:e.data.variableA,styles:{borderRadius:10,paddingRight:12},depth:e.depth,onChange:function(n){var t=e.data;t.variableA=n,e.onChange(t)}})}),(0,f.jsx)(l.xv,{fontWeight:"semibold",px:"10",children:e.data.operator===R.Ri?"NOT BEFORE":e.data.operator===R.H5?"NOT AFTER":""}),(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),borderRadius:"10",flex:"1",borderLeft:"3px solid",borderLeftColor:(0,u.ff)("gray.200","gray.800"),children:(0,f.jsx)(xe,{data:e.data.variableB,styles:{padding:"12"},depth:e.depth,onChange:function(n){var t=e.data;t.variableB=n,e.onChange(t)}})})]})}),(0,f.jsx)(Q,{data:e.data,isOpen:t,onClose:i,onClick:function(n){return e.onChange(n)}})]})},le=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ee,{styles:{padding:0},depth:e.depth,onClick:i,children:(0,f.jsxs)(l.Ug,{children:[(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),borderRadius:"10",borderRight:"3px solid",borderRightColor:(0,u.ff)("gray.200","gray.800"),children:(0,f.jsx)(xe,{data:e.data.variable,depth:e.depth,styles:{borderRadius:10,paddingRight:12},onChange:function(n){var t=e.data;t.variable=n,e.onChange(t)}})}),(0,f.jsx)(l.xv,{fontWeight:"semibold",px:"10",children:n("builder.in")}),(0,f.jsx)(l.xu,{flex:"1",flexDirection:"column",children:(0,f.jsx)(l.xv,{children:e.data.values.join(", ")})})]})}),(0,f.jsx)(Q,{data:e.data,isOpen:o,onClose:r,onClick:function(n){return e.onChange(n)}})]})},se=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ee,{styles:e.styles,depth:e.depth,onClick:i,children:(0,f.jsxs)(l.xv,{children:[(0,f.jsxs)(l.xv,{as:"span",fontWeight:"semibold",children:[n("builder.date").toUpperCase(),":"]})," ","".concat(e.data.value.value," + ").concat(e.data.number," ").concat(e.data.duration)]})}),(0,f.jsx)(Q,{data:e.data,isOpen:o,onClose:r,onClick:function(n){return e.onChange(n)}})]})},ae=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(ee,{styles:e.styles,depth:e.depth,onClick:i,children:[(0,f.jsx)(l.X6,{size:"md",mb:"2",children:n("builder.if")}),(0,f.jsxs)(l.Kq,{children:[(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),py:"1",pl:"1",borderTopLeftRadius:"10",borderBottomLeftRadius:"10",children:(0,f.jsx)(xe,{data:e.data.condition,depth:e.depth,onChange:function(n){var t=e.data;t.condition=n,e.onChange(t)}})}),(0,f.jsx)(l.X6,{size:"sm",p:"1",children:n("builder.then")}),(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),py:"1",pl:"1",borderTopLeftRadius:"10",borderBottomLeftRadius:"10",children:(0,f.jsx)(xe,{data:e.data.conditionTrue,depth:e.depth,onChange:function(n){var t=e.data;t.conditionTrue=n,e.onChange(t)}})}),(0,f.jsx)(l.X6,{size:"sm",p:"1",children:n("builder.else")}),(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),py:"1",pl:"1",borderTopLeftRadius:"10",borderBottomLeftRadius:"10",children:(0,f.jsx)(xe,{data:e.data.conditionFalse,depth:e.depth,onChange:function(n){var t=e.data;t.conditionFalse=n,e.onChange(t)}})})]})]}),(0,f.jsx)(Q,{data:e.data,isOpen:o,onClose:r,onClick:function(n){return e.onChange(n)}})]})},ce=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(ee,{styles:e.styles,depth:e.depth,onClick:i,children:[(0,f.jsx)(l.X6,{size:"md",mb:"2",children:n(e.data.status)}),(0,f.jsx)(l.xv,{mb:"2",children:e.data.vaccines.map((function(e){var n,t;return null!==(n=null===(t=Z.find((function(n){return n.id==e})))||void 0===t?void 0:t.name)&&void 0!==n?n:e})).join(", ")}),(0,f.jsx)(l.Kq,{children:(0,f.jsx)(l.xu,{backgroundColor:(0,u.ff)("gray.200","gray.800"),py:"1",pl:"1",borderTopLeftRadius:"10",borderBottomLeftRadius:"10",children:(0,f.jsx)(xe,{data:e.data.conditionTrue,depth:e.depth,onChange:function(n){var t=e.data;t.conditionTrue=n,e.onChange(t)}})})})]}),(0,f.jsx)(Q,{data:e.data,isOpen:o,onClose:r,onClick:function(n){return e.onChange(n)}})]})},de=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ee,{styles:e.styles,depth:e.depth,onClick:i,children:(0,f.jsxs)(l.xv,{children:[(0,f.jsxs)(l.xv,{as:"span",fontWeight:"semibold",children:[n("builder.value").toUpperCase(),":"]})," ","boolean"===typeof e.data.value?e.data.value?"true":"false":e.data.value]})}),(0,f.jsx)(Q,{data:e.data,isOpen:o,onClose:r,onClick:function(n){return e.onChange(n)}})]})},ue=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ee,{styles:e.styles,depth:e.depth,onClick:i,children:(0,f.jsxs)(l.xv,{children:[(0,f.jsxs)(l.xv,{as:"span",fontWeight:"semibold",children:[n("builder.var").toUpperCase(),":"]})," ",e.data.value]})}),(0,f.jsx)(Q,{data:e.data,isOpen:o,onClose:r,onClick:function(n){return e.onChange(n)}})]})},xe=function(e){return e.data instanceof O.CJ?(0,f.jsx)(ae,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.VW?(0,f.jsx)(de,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.mB?(0,f.jsx)(ue,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O._j?(0,f.jsx)(oe,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.Ax?(0,f.jsx)(ce,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O._k?(0,f.jsx)(se,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.Kk?(0,f.jsx)(ie,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.hW?(0,f.jsx)(re,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.N0?(0,f.jsx)(le,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.Cm?(0,f.jsx)(te,{data:e.data,styles:e.styles,depth:e.depth+1,onChange:e.onChange}):e.data instanceof O.Fj?(0,f.jsx)(ne,{data:e.data,depth:e.depth+1,onChange:e.onChange}):(0,f.jsx)(l.xu,{})},he=function(e){var n=(0,O.cv)(e.data);return(0,f.jsx)(l.Kq,{borderRadius:"10",children:(0,f.jsx)(xe,{data:n,onChange:function(n){if(n instanceof O.Fj)e.onChange(null);else{var t=n.decode();e.onChange(t)}},depth:1})})};function fe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fe(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function pe(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return me(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return me(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,r=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw r}}}}function me(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var Ce=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),i=t.isOpen,r=t.onOpen,c=t.onClose,u=(0,p.qY)(),h=u.isOpen,j=u.onOpen,C=u.onClose,v=(0,p.qY)(),y=v.isOpen,O=v.onOpen,z=v.onClose,R=(0,s.useState)(e.certificateRule.Logic),w=R[0],S=R[1],D=(0,s.useState)(0===e.certificateRule.Description.length?[{lang:"en",desc:""}]:e.certificateRule.Description),E=D[0],B=D[1],F=void 0!==e.customRule.rules.find((function(n){return n.Identifier===e.certificateRule.Identifier}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.xu,{flex:"1",px:"10",py:"5",display:"flex",flexDirection:"column",overflow:"scroll",children:[(0,f.jsxs)(l.xu,{display:"flex",flexDirection:"row",mb:"5",children:[(0,f.jsx)(x.zx,{onClick:e.onBack,mr:"5",children:(0,f.jsx)(d.wy,{width:"5",height:"5"})}),(0,f.jsx)(l.X6,{flex:"1",children:n("builder.rules.certificate")}),F&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.zx,{variant:"ghost",onClick:O,mr:"5",children:n("export")}),(0,f.jsx)(x.zx,{colorScheme:"red",variant:"ghost",onClick:j,mr:"5",children:n("delete")})]}),(0,f.jsx)(x.zx,{colorScheme:"blue",onClick:function(){e.onChange(je(je({},e.customRule),{},{rules:[].concat((0,o.Z)(e.customRule.rules.filter((function(n){return n.Identifier!==e.certificateRule.Identifier}))),[je(je({},e.certificateRule),{},{Description:E,Logic:w})])}))},children:n("save")})]}),(0,f.jsx)(l.xu,{mb:"10",children:(0,f.jsx)(l.xu,{display:"flex",flexDirection:"row",children:(0,f.jsxs)(l.xu,{flex:"1",children:[(0,f.jsx)(l.xv,{fontSize:"xl",fontWeight:"semibold",mb:"5",children:n("builder.certificate.type")}),(0,f.jsx)(l.xv,{children:e.certificateRule.Type})]})})}),(0,f.jsxs)(l.xu,{mb:"10",children:[(0,f.jsxs)(l.xu,{display:"flex",flexDirection:"row",children:[(0,f.jsx)(l.xv,{fontSize:"xl",fontWeight:"semibold",flex:"1",children:n("builder.edit.translations")}),(0,f.jsx)(x.zx,{colorScheme:"blue",onClick:r,children:n("add")})]}),E.map((function(e){return(0,f.jsxs)(l.xu,{display:"flex",flexDirection:"row",py:"5",children:[(0,f.jsxs)(m.BZ,{children:[(0,f.jsx)(m.Ui,{children:(0,f.jsx)(l.xv,{fontWeight:"semibold",children:e.lang.toUpperCase()})}),(0,f.jsx)(m.II,{value:e.desc,onChange:function(n){return function(e,n){var t,o=[],i=pe(E);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.lang===e?o.push({lang:e,desc:n}):o.push(r)}}catch(l){i.e(l)}finally{i.f()}B(o)}(e.lang,n.target.value)}})]}),"en"!==e.lang&&(0,f.jsx)(x.zx,{colorScheme:"red",onClick:function(){return n=e.lang,void B(E.filter((function(e){return e.lang!==n})));var n},ml:"5",children:(0,f.jsx)(d.pJ,{width:"4",height:"4"})})]},e.lang)}))]}),(0,f.jsx)(l.xv,{fontSize:"xl",fontWeight:"semibold",mb:"5",children:n("builder.edit.rule")}),(0,f.jsx)(he,{data:w,onChange:S})]}),(0,f.jsx)(k,{isOpen:i,onClose:c,onClick:function(e){c(),void 0===E.find((function(n){return n.lang===e}))&&B([].concat((0,o.Z)(E),[{lang:e,desc:""}]))}}),(0,f.jsx)(b,{customRule:e.customRule,certificateRule:e.certificateRule,isOpen:y,onClose:z}),(0,f.jsx)(g,{title:n("builder.delete.confirm"),message:n("builder.delete.confirm.message"),isOpen:h,onClose:function(n){C(),n&&e.onChange(je(je({},e.customRule),{},{rules:e.customRule.rules.filter((function(n){return n.Identifier!==e.certificateRule.Identifier}))}))}})]})};function ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function ve(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ge(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var be=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),i=t.isOpen,r=t.onOpen,c=t.onClose,u=(0,s.useState)(e.immunizationRule.rule),h=u[0],j=u[1],m=void 0!==e.customRule.immunizationRules.find((function(n){return n.id===e.immunizationRule.id}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.xu,{flex:"1",px:"10",py:"5",display:"flex",flexDirection:"column",overflow:"scroll",children:[(0,f.jsxs)(l.xu,{display:"flex",flexDirection:"row",mb:"5",children:[(0,f.jsx)(x.zx,{onClick:e.onBack,mr:"5",children:(0,f.jsx)(d.wy,{width:"5",height:"5"})}),(0,f.jsx)(l.X6,{flex:"1",children:n("builder.rules.immunization")}),m&&(0,f.jsx)(x.zx,{colorScheme:"red",variant:"ghost",onClick:r,mr:"5",children:n("delete")}),(0,f.jsx)(x.zx,{colorScheme:"blue",onClick:function(){e.onChange(ve(ve({},e.customRule),{},{immunizationRules:[].concat((0,o.Z)(e.customRule.immunizationRules.filter((function(n){return n.id!==e.immunizationRule.id}))),[ve(ve({},e.immunizationRule),{},{rule:h})])}))},children:n("save")})]}),(0,f.jsx)(l.xu,{mb:"10",children:(0,f.jsx)(l.xu,{display:"flex",flexDirection:"row",children:(0,f.jsxs)(l.xu,{flex:"1",children:[(0,f.jsx)(l.xv,{fontSize:"xl",fontWeight:"semibold",mb:"5",children:n("builder.immunization.type")}),(0,f.jsx)(l.xv,{children:n(e.immunizationRule.type)})]})})}),(0,f.jsx)(l.xu,{mb:"10",children:(0,f.jsx)(l.xu,{display:"flex",flexDirection:"row",children:(0,f.jsxs)(l.xu,{flex:"1",children:[(0,f.jsx)(l.xv,{fontSize:"xl",fontWeight:"semibold",mb:"5",children:n("vaccines")}),e.immunizationRule.medicalProducts.map((function(e){var n,t;return null!==(n=null===(t=Z.find((function(n){return n.id===e})))||void 0===t?void 0:t.name)&&void 0!==n?n:e})).map((function(e){return(0,f.jsx)(l.xv,{children:e},e)}))]})})}),(0,f.jsx)(l.xv,{fontSize:"xl",fontWeight:"semibold",mb:"5",children:n("builder.edit.rule")}),(0,f.jsx)(he,{data:h,onChange:j})]}),(0,f.jsx)(g,{title:n("builder.delete.confirm"),message:n("builder.delete.confirm.message"),isOpen:i,onClose:function(n){c(),n&&e.onChange(ve(ve({},e.customRule),{},{immunizationRules:e.customRule.immunizationRules.filter((function(n){return n.id!==e.immunizationRule.id}))}))}})]})},ye=t(9762),ke=t(7250);function Oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function ze(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Oe(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Re=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose,u=(0,s.useState)(e.customRule.name),h=u[0],j=u[1],C=(0,s.useState)(e.customRule.description),v=C[0],b=C[1],y=""===e.customRule.id,k=h!==e.customRule.name||v!==e.customRule.description;(0,s.useEffect)((function(){j(e.customRule.name),b(e.customRule.description)}),[e.customRule]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.xu,{flex:"1",px:"10",py:"5",display:"flex",flexDirection:"column",overflow:"scroll",children:[(0,f.jsxs)(l.xu,{display:"flex",flexDirection:"row",mb:"5",children:[!y&&(0,f.jsx)(x.zx,{onClick:e.onBack,children:(0,f.jsx)(d.wy,{width:"5",height:"5"})}),(0,f.jsx)(l.LZ,{}),!y&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.zx,{variant:"ghost",onClick:function(){e.onChange(ze(ze({},e.customRule),{},{id:(0,c.Z)(),name:"".concat(e.customRule.name," (").concat(n("copy"),")")}))},mr:"5",children:n("duplicate")}),(0,f.jsx)(x.zx,{colorScheme:"red",variant:"ghost",onClick:i,mr:"5",children:n("delete")})]}),(0,f.jsx)(x.zx,{colorScheme:"blue",isDisabled:!k,onClick:function(){""!==h&&e.onChange(ze(ze({},e.customRule),{},{name:h,description:v}))},children:n("save")})]}),(0,f.jsxs)(l.xu,{mb:"10",children:[(0,f.jsx)(ye.NI,{mb:"5",children:(0,f.jsx)(m.II,{placeholder:n("builder.edit.name.placeholder"),value:h,onChange:function(e){return j(e.target.value)}})}),(0,f.jsx)(ye.NI,{children:(0,f.jsx)(m.II,{placeholder:n("builder.edit.description.placeholder"),value:v,onChange:function(e){return b(e.target.value)}})})]}),y&&(0,f.jsxs)(l.xu,{my:"10",children:[(0,f.jsxs)(l.xv,{mb:"5",children:["(optional)",(0,f.jsx)("br",{}),"You can copy the existing custom rules for Hamburg, Germany by clicking the button below"]}),(0,f.jsx)(x.zx,{onClick:function(){e.onChange(ze(ze({},ke),{},{id:(0,c.Z)(),name:"".concat(ke.name," (").concat(n("copy"),")")}))},children:"Hamburg, Germany"})]})]}),(0,f.jsx)(g,{title:n("builder.delete.confirm"),message:(0,f.jsx)(l.xv,{children:n("builder.delete.confirm.message")}),isOpen:o,onClose:function(n){r(),n&&e.onDelete()}})]})},we=function(){var e=(0,a.$)("common").t;return(0,f.jsx)(l.xu,{flex:"1",px:"10",py:"5",display:"flex",flexDirection:"column",overflow:"scroll",children:(0,f.jsx)(l.xu,{p:"10",children:(0,f.jsx)(l.xv,{textAlign:"center",children:e("builder.placeholder")})})})},Se=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.modal.type")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsx)(l.aV,{children:R.Fy.map((function(t){return(0,f.jsx)(y,{title:n(t),onClick:function(){return e.onSelect(t)}},t)}))})}),(0,f.jsx)(C.mz,{})]})},De=function(e){var n=(0,s.useState)([]),t=n[0],i=n[1],r=(0,a.$)("common").t;return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:r("builder.modal.vaccine")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsx)(l.aV,{children:Z.map((function(e){return(0,f.jsx)(l.HC,{display:"flex",children:(0,f.jsx)(x.zx,{isFullWidth:!0,h:"auto",position:"relative",overflowWrap:"anywhere",whiteSpace:"normal",variant:"ghost",justifyContent:"left",p:"0",children:(0,f.jsx)(U.XZ,{isChecked:t.includes(e.id),w:"100%",h:"100%",p:"4",wordBreak:"break-all",onChange:function(n){return n.target.checked?i([].concat((0,o.Z)(t),[e.id])):i(t.filter((function(n){return n!==e.id})))},children:e.name})})},e.id)}))})}),(0,f.jsx)(C.mz,{children:(0,f.jsx)(x.zx,{colorScheme:"blue",onClick:function(){return e.onSelect(t)},children:r("continue")})})]})},Ee=function(e){var n=(0,s.useState)(""),t=n[0],o=n[1];(0,s.useEffect)((function(){o("")}),[e]);return(0,f.jsxs)(C.u_,{isOpen:e.isOpen,onClose:e.onClose,size:"lg",scrollBehavior:"inside",children:[(0,f.jsx)(C.ZA,{}),""===t?(0,f.jsx)(Se,{onClose:e.onClose,onSelect:o}):(0,f.jsx)(De,{onClose:e.onClose,onSelect:function(n){e.onAdd({id:(0,c.Z)(),medicalProducts:n,type:t,rule:new O.Kk(new O.mB("payload.v.0.dn"),new O.mB("payload.v.0.sd"),R.eY).decode()}),e.onClose()}})]})},Be=function(e){var n=(0,a.$)("common").t;return(0,f.jsxs)(C.hz,{children:[(0,f.jsx)(C.xB,{children:n("builder.modal.certificate")}),(0,f.jsx)(C.ol,{onClick:e.onClose}),(0,f.jsx)(C.fe,{children:(0,f.jsx)(l.aV,{children:R.vk.map((function(n){return(0,f.jsx)(y,{title:n,onClick:function(){return e.onClick(n)}},n)}))})}),(0,f.jsx)(C.mz,{})]})},Fe=function(e){return(0,f.jsxs)(C.u_,{isOpen:e.isOpen,onClose:e.onClose,size:"lg",scrollBehavior:"inside",children:[(0,f.jsx)(C.ZA,{}),(0,f.jsx)(Be,{onClose:e.onClose,onClick:function(n){return e.onAdd({Identifier:(0,c.Z)(),Type:"Acceptance",Country:"DE",Version:"1.0.0",SchemaVersion:"1.0.0",Engine:"CERTLOGIC",EngineVersion:"0.7.5",CertificateType:n,Description:[],ValidFrom:"2022-01-01T00:00:00Z",ValidTo:"2023-01-01T00:00:00Z",AffectedFields:[],Logic:new O._j(n).decode()})}})]})},Pe=function(e){var n=(0,a.$)("common").t,t=(0,p.qY)(),o=t.isOpen,i=t.onOpen,r=t.onClose,s=(0,p.qY)(),c=s.isOpen,d=s.onOpen,u=s.onClose,h=(0,p.qY)(),j=h.isOpen,m=h.onOpen,C=h.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.xu,{flex:"1",px:"10",py:"5",display:"flex",flexDirection:"column",overflow:"scroll",children:[(0,f.jsxs)(l.xu,{display:"flex",flexDirection:"row",mb:"5",children:[(0,f.jsx)(l.X6,{flex:"1",children:e.customRule.name}),(0,f.jsx)(x.zx,{variant:"ghost",onClick:m,mr:"5",children:n("export")}),(0,f.jsx)(x.zx,{colorScheme:"blue",onClick:e.onEdit,children:n("edit")})]}),""!==e.customRule.description&&(0,f.jsx)(l.xv,{mb:"5",children:e.customRule.description}),(0,f.jsxs)(l.xu,{display:"flex",alignItems:"center",flexDirection:"row",mb:"5",children:[(0,f.jsx)(l.xv,{mr:"5",fontWeight:"semibold",children:n("builder.rules.immunization")}),(0,f.jsx)(x.zx,{size:"sm",colorScheme:"blue",onClick:i,children:n("add")})]}),(0,f.jsxs)(l.MI,{mb:"10",spacing:"5",children:[0===e.customRule.immunizationRules.length&&(0,f.jsx)(l.xv,{children:n("builder.rules.empty")}),(0,f.jsx)(l.aV,{children:e.customRule.immunizationRules.map((function(t){return(0,f.jsx)(y,{title:n(t.type),subtitle:t.medicalProducts.map((function(e){var n,t;return null!==(n=null===(t=Z.find((function(n){return n.id===e})))||void 0===t?void 0:t.name)&&void 0!==n?n:e})).join(", "),onClick:function(){return e.onEditImmunizationRule(t)}},t.id)}))})]}),(0,f.jsxs)(l.xu,{display:"flex",alignItems:"center",flexDirection:"row",mb:"5",children:[(0,f.jsx)(l.xv,{fontWeight:"semibold",mr:"5",children:n("builder.rules.certificate")}),(0,f.jsx)(x.zx,{size:"sm",colorScheme:"blue",onClick:d,children:n("add")})]}),(0,f.jsxs)(l.MI,{mb:"5",spacing:"5",children:[0===e.customRule.rules.length&&(0,f.jsx)(l.xv,{children:n("builder.rules.empty")}),(0,f.jsx)(l.aV,{children:e.customRule.rules.map((function(t){var o,i;return(0,f.jsx)(y,{title:null!==(o=null===(i=t.Description.find((function(e){return"en"===e.lang})))||void 0===i?void 0:i.desc)&&void 0!==o?o:t.Identifier,subtitle:n(t.CertificateType.toLowerCase()),onClick:function(){return e.onEditCertificateRule(t)}},t.Identifier)}))})]})]}),(0,f.jsx)(Fe,{isOpen:c,onClose:u,onAdd:function(n){u(),e.onEditCertificateRule(n)}}),(0,f.jsx)(Ee,{isOpen:o,onClose:r,onAdd:function(n){r(),e.onEditImmunizationRule(n)}}),(0,f.jsx)(b,{customRule:e.customRule,isOpen:j,onClose:C})]})},Ue=function(e){var n=(0,s.useState)(!1),t=n[0],o=n[1],i=(0,s.useState)(null),r=i[0],l=i[1],a=(0,s.useState)(null),c=a[0],d=a[1];return(0,s.useEffect)((function(){o(!1),l(null),d(null)}),[e.customRule]),null===e.customRule?(0,f.jsx)(we,{}):""===e.customRule.id||t?(0,f.jsx)(Re,{customRule:e.customRule,onChange:e.onChange,onDelete:e.onDelete,onBack:function(){return o(!1)}}):null!==c?(0,f.jsx)(be,{customRule:e.customRule,immunizationRule:c,onChange:e.onChange,onBack:function(){return d(null)}}):null!==r?(0,f.jsx)(Ce,{customRule:e.customRule,certificateRule:r,onChange:e.onChange,onBack:function(){return l(null)}}):(0,f.jsx)(Pe,{customRule:e.customRule,onChange:e.onChange,onEdit:function(){return o(!0)},onEditCertificateRule:l,onEditImmunizationRule:d})},Ze=t(3210),Ie=JSON.parse('[{"id":"c9df38ff-c16b-4817-a7aa-39ec7e47cf0d","medicalProducts":["EU/1/20/1528","EU/1/20/1507","EU/1/21/1529","EU/1/21/1618"],"rule":{"and":[{"===":[{"var":"payload.v.0.dn"},1]},{"===":[{"var":"payload.v.0.sd"},2]}]},"type":"partial"},{"id":"b9411ec3-e933-43bf-a354-e24cb10df385","medicalProducts":["EU/1/20/1528","EU/1/20/1507","EU/1/21/1529","EU/1/21/1618","EU/1/20/1525"],"rule":{"and":[{"===":[{"var":"payload.v.0.dn"},2]},{"===":[{"var":"payload.v.0.sd"},2]}]},"type":"full"},{"id":"3b6770c1-8249-4051-98da-526207e3c566","medicalProducts":["EU/1/20/1528","EU/1/20/1507","EU/1/21/1529","EU/1/21/1618"],"rule":{"and":[{"===":[{"var":"payload.v.0.dn"},1]},{"===":[{"var":"payload.v.0.sd"},1]}]},"type":"full-recovery"},{"id":"7143a493-c8f2-48b3-9ec4-56bcd60f1271","medicalProducts":["EU/1/20/1528","EU/1/20/1507","EU/1/21/1529","EU/1/21/1618","EU/1/20/1525"],"rule":{"and":[{"===":[{"var":"payload.v.0.dn"},{"var":"payload.v.0.sd"}]},{">":[{"var":"payload.v.0.sd"},2]}]},"type":"booster"},{"id":"2ef68ed9-faf1-404b-92ab-9ad2335ab4d8","medicalProducts":["EU/1/20/1528","EU/1/20/1507","EU/1/21/1529","EU/1/21/1618","EU/1/20/1525"],"rule":{">":[{"var":"payload.v.0.dn"},{"var":"payload.v.0.sd"}]},"type":"booster"},{"id":"34af00af-72c8-4b32-bc71-1bee8127776a","medicalProducts":["EU/1/20/1525"],"rule":{"and":[{"===":[{"var":"payload.v.0.dn"},1]},{"===":[{"var":"payload.v.0.sd"},1]}]},"type":"partial"}]');function Le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function Ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Le(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var We=function(){var e=(0,a.$)("common").t,n=(0,r.pm)(),t=h.f.use(),i=(0,s.useState)(null),d=i[0],u=i[1],x=function(){n({title:e("builder.updated"),status:"success",duration:3e3})};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Ze.Z,{allowIndex:!1}),(0,f.jsxs)(l.kC,{height:"100vh",children:[(0,f.jsx)(j,{customRule:d,onCreate:function(){u({id:"",name:"",description:"",rules:[],immunizationRules:Ie})},onChange:u}),(0,f.jsx)(Ue,{customRule:d,onChange:function(e){var n=Ae(Ae({},e),{},{id:""===e.id?(0,c.Z)():e.id});(0,h.G)([].concat((0,o.Z)(t.customRules.filter((function(n){return n.id!==e.id}))),[n])),u(n),x()},onDelete:function(){(0,h.G)((0,o.Z)(t.customRules.filter((function(e){return e.id!==(null===d||void 0===d?void 0:d.id)})))),u(null),x()}})]})]})}},8973:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/builder",function(){return t(6737)}])}},function(e){e.O(0,[885,662,595,66,987,442,853,774,888,179],(function(){return n=8973,e(e.s=n);var n}));var n=e.O();_N_E=n}]);